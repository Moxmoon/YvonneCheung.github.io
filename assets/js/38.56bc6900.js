(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{650:function(t,a,e){"use strict";e.r(a);var i=e(0),r=Object(i.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",[t._v("从输入 URL 到页面显示发生了什么?")])]),t._v(" "),e("h1",{attrs:{id:"输入网址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入网址"}},[t._v("#")]),t._v(" 输入网址")]),t._v(" "),e("p",[t._v("当你开始输入网址比如 www.cnblogs.com 时游览器就可以在书签或者历史记录里面去搜索相关的网址推荐给你。")]),t._v(" "),e("h1",{attrs:{id:"dns解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dns解析"}},[t._v("#")]),t._v(" DNS解析")]),t._v(" "),e("blockquote",[e("p",[t._v("host -> 本地DNS服务器 -> DNS根服务器（没有ip对应关系，而是告诉本地服务器可以去域服务器查询，并给出域服务器地址）-> 域服务器（告诉本地DNS服务器域名解析服务器的地址）-> 域名的解析服务器（返回IP地址，并保存在缓存中）")])]),t._v(" "),e("ol",[e("li",[t._v("本地硬盘的 hosts 文件")]),t._v(" "),e("li",[t._v("本地DNS(域名分布系统)服务器 （你的网络接入服务器商提供，比如中国电信，中国移动）")]),t._v(" "),e("li",[t._v("本地DNS服务器会首先查询它的缓存记录。如果缓存中有此条记录，就可以直接返回结果，此过程是递归的方式进行查询。如果没有，本地DNS服务器还要向DNS根服务器进行查询")]),t._v(" "),e("li",[t._v("根DNS服务器没有记录具体的域名和IP地址的对应关系，而是告诉本地DNS服务器，你可以到域服务器上去继续查询，并给出域服务器的地址。这种过程是迭代的过程。")]),t._v(" "),e("li",[t._v("本地DNS服务器继续向域服务器发出请求，告诉本地DNS服务器，你的域名的解析服务器的地址。")]),t._v(" "),e("li",[t._v("本地DNS服务器向域名的解析服务器发出请求，这时就能收到一个域名和IP地址对应关系，本地DNS服务器不仅要把IP地址返回给用户电脑，还要把这个对应关系保存在缓存中，以备下次别的用户查询时，可以直接返回结果，加快网络访问。")])]),t._v(" "),e("h1",{attrs:{id:"建立tcp连接（三次握手）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立tcp连接（三次握手）"}},[t._v("#")]),t._v(" 建立TCP连接（三次握手）")]),t._v(" "),e("ol",[e("li",[t._v("客户端发送一个带有SYN标志的数据包给服务端")]),t._v(" "),e("li",[t._v("服务端收到后，回传一个带有SYN/ACK标志的数据包以示传达确认信息")]),t._v(" "),e("li",[t._v("最后客户端再回传一个带ACK标志的数据包，代表握手结束，连接成功")])]),t._v(" "),e("h1",{attrs:{id:"浏览器向web服务器发送http请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器向web服务器发送http请求"}},[t._v("#")]),t._v(" 浏览器向Web服务器发送HTTP请求")]),t._v(" "),e("p",[t._v("建立TCP连接之后，发起HTTP请求，请求一般分为三部分")]),t._v(" "),e("ol",[e("li",[t._v("请求方法URI协议/版本")]),t._v(" "),e("li",[t._v("请求头(Request Header)")]),t._v(" "),e("li",[t._v("请求正文")])]),t._v(" "),e("h1",{attrs:{id:"服务器端处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务器端处理"}},[t._v("#")]),t._v(" 服务器端处理")]),t._v(" "),e("p",[t._v("服务器端收到请求后的由web服务器（准确说应该是http服务器）处理请求，诸如Apache、Ngnix、IIS等。web服务器解析用户请求，知道了需要调度哪些资源文件，再通过相应的这些资源文件处理用户请求和参数，并调用数据库信息，最后将结果通过web服务器返回给浏览器客户端。\n"),e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/png/544886/1608186507963-45ddeb08-6fb3-4d9d-82cc-f361ad45eecd.png#averageHue=%23e3fae1&crop=0&crop=0&crop=1&crop=1&height=237&id=sKCyW&originHeight=237&originWidth=808&originalType=binary&ratio=1&rotation=0&showTitle=false&size=0&status=done&style=none&title=&width=808",alt:""}})]),t._v(" "),e("h1",{attrs:{id:"关闭tcp连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关闭tcp连接"}},[t._v("#")]),t._v(" 关闭TCP连接")]),t._v(" "),e("p",[t._v("为了避免服务器与客户端双方的资源占用和损耗，当双方没有请求或响应传递时，任意一方都可以发起关闭请求。与创建TCP连接的3次握手类似，关闭TCP连接，需要4次握手。\n"),e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/png/544886/1608186634754-a3604bc5-0c49-4137-9e6b-334499d9fc67.png#averageHue=%23fafafa&crop=0&crop=0&crop=1&crop=1&height=374&id=ZvK6O&originHeight=374&originWidth=489&originalType=binary&ratio=1&rotation=0&showTitle=false&size=0&status=done&style=none&title=&width=489",alt:""}})]),t._v(" "),e("h1",{attrs:{id:"浏览器解析资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器解析资源"}},[t._v("#")]),t._v(" 浏览器解析资源")]),t._v(" "),e("p",[t._v("浏览器通过解析HTML，生成DOM树，解析CSS，生成CSS规则树，然后通过DOM树和CSS规则树生成渲染树。渲染树与DOM树不同，渲染树中并没有head、display为none等不必显示的节点。\n在解析CSS的同时，可以继续加载解析HTML，但在解析执行JS脚本时，会停止解析后续HTML，这就会出现阻塞问题。\n"),e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/webp/544886/1608186823066-115132dc-f642-40c2-9ade-bd34ea8c9f67.webp#averageHue=%23dce096&crop=0&crop=0&crop=1&crop=1&height=289&id=qbBVW&originHeight=289&originWidth=624&originalType=binary&ratio=1&rotation=0&showTitle=false&size=0&status=done&style=none&title=&width=624",alt:""}})]),t._v(" "),e("h1",{attrs:{id:"浏览器布局渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器布局渲染"}},[t._v("#")]),t._v(" 浏览器布局渲染")]),t._v(" "),e("p",[t._v("根据渲染树布局，计算CSS样式，即每个节点在页面中的大小和位置等几何信息。HTML默认是流式布局的，CSS和js会打破这种布局，改变DOM的外观样式以及大小和位置。这时就要提到两个重要概念：repaint和reflow。")])])}),[],!1,null,null,null);a.default=r.exports}}]);